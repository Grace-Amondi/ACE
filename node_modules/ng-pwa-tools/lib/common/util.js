"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs = require("fs");
var path = require("path");
function recursiveListDirHelper(dir, prefix) {
    var entries = fs
        .readdirSync(dir)
        .map(function (entry) { return ({ entry: entry, isDir: fs.statSync(path.join(dir, entry)).isDirectory() }); });
    return entries
        .filter(function (meta) { return !meta.isDir; })
        .map(function (meta) { return meta.entry; })
        .map(function (entry) { return prefix !== '' ? path.join(prefix, entry) : entry; })
        .concat(entries
        .filter(function (meta) { return meta.isDir; })
        .map(function (meta) { return meta.entry; })
        .map(function (entry) { return recursiveListDirHelper(path.join(dir, entry), path.join(prefix, entry)); })
        .reduce(function (acc, subDirs) { return acc.concat(subDirs); }, []));
}
function recursiveListDir(dir) {
    return recursiveListDirHelper(dir, '');
}
exports.recursiveListDir = recursiveListDir;
function toAbsolute(file) {
    if (path.isAbsolute(file)) {
        return file;
    }
    return path.normalize(path.join(process.cwd(), file));
}
exports.toAbsolute = toAbsolute;
